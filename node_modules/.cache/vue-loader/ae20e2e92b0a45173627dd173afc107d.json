{"remainingRequest":"/Users/user/Desktop/vueDatav/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/user/Desktop/vueDatav/src/views/screen/storageTop.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/Desktop/vueDatav/src/views/screen/storageTop.vue","mtime":1637549300830},{"path":"/Users/user/Desktop/vueDatav/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/vueDatav/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/user/Desktop/vueDatav/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/vueDatav/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGVjaGFydHMgPSByZXF1aXJlKCJlY2hhcnRzIik7CmltcG9ydCBhcGkgZnJvbSAiQC9odHRwL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJY2hhcnQ6IG51bGwsCgkJCWl0ZW06ICIiLAoJCQlpbnRlcnZhbDogIjYwMDAiLAoJCQlvcHRpb246IiIsCgkJCXR5cGU6MCwKCQl9OwoJfSwKCW1vdW50ZWQoKSB7CgoJCXRoaXMuY2hhcnQgPSBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvdHRvbUxlZnRDaGFydCIpKTsKCQl0aGlzLm9wdGlvbiA9IHsKCQkJdGl0bGU6IHsKCQkJCXRleHQ6ICIiLAoJCQkJeDogImNlbnRlciIsCgkJCQl5OiAwLAoJCQkJdGV4dFN0eWxlOiB7CgkJCQkJY29sb3I6ICIjQjRCNEI0IiwKCQkJCQlmb250U2l6ZTogMTYsCgkJCQkJZm9udFdlaWdodDogIm5vcm1hbCIKCQkJCX0KCQkJfSwKCQkJdG9vbHRpcDogewoJCQkJdHJpZ2dlcjogImF4aXMiLAoJCQkJYmFja2dyb3VuZENvbG9yOiAicmdiYSgyNTUsMjU1LDI1NSwwLjEpIiwKCQkJCWF4aXNQb2ludGVyOiB7CgkJCQkJdHlwZTogInNoYWRvdyIsCgkJCQkJbGFiZWw6IHsKCQkJCQkJc2hvdzogdHJ1ZSwKCQkJCQkJYmFja2dyb3VuZENvbG9yOiAiIzdCN0REQyIKCQkJCQl9CgkJCQl9CgkJCX0sCgkJCWxlZ2VuZDogewoJCQoJCQkJdGV4dFN0eWxlOiB7CgkJCQkJY29sb3I6ICIjQjRCNEI0IgoJCQkJfSwKCQkKCQkJfSwKCQkJZ3JpZDogewoJCQkJeDogIjExJSIsCgkJCQl3aWR0aDogIjgwJSIsCgkJCQl5OiAiNCUiCgkJCX0sCgkJCXhBeGlzOiB7CgkJCQlkYXRhOiBbXSwKCQkJCWF4aXNMaW5lOiB7CgkJCQkJbGluZVN0eWxlOiB7CgkJCQkJCWNvbG9yOiAiI0I0QjRCNCIKCQkJCQl9CgkJCQl9LAoJCQkJYXhpc1RpY2s6IHsKCQkJCQlzaG93OiBmYWxzZQoJCQkJfQoJCQl9LAoJCQl5QXhpczogWwoJCQkJewoJCQkJCXR5cGU6ICd2YWx1ZScsCgkJCQkJc3BsaXRMaW5lOiB7CgkJCQkJCXNob3c6IGZhbHNlCgkJCQkJfSwKCQkJCQlheGlzTGluZTogewoJCQkJCQlsaW5lU3R5bGU6IHsKCQkJCQkJCWNvbG9yOiAiI0I0QjRCNCIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJYXhpc0xhYmVsOiB7CgkJCQkJCWZvcm1hdHRlcjogInt2YWx1ZX0gIgoJCQkJCX0KCQkJCX0KCQkJXSwKCQkJc2VyaWVzOiBbewoJCQkJCXR5cGU6ICJiYXIiLAoJCQkJCWJhcldpZHRoOiAxMCwKCQkJCQlpdGVtU3R5bGU6IHsKCQkJCQkJbm9ybWFsOiB7CgkJCQkJCQlvcGFjaXR5OiAxLAoJCQkJCQkJYmFyQm9yZGVyUmFkaXVzOiA1LAoJCQkJCQkJY29sb3I6IG5ldyBlY2hhcnRzLmdyYXBoaWMuTGluZWFyR3JhZGllbnQoMCwgMCwgMCwgMSwgW3sKCQkJCQkJCQkJb2Zmc2V0OiAwLAoJCQkJCQkJCQljb2xvcjogIiM1ZTY5ZmYiCgkJCQkJCQkJfSwKCQkJCQkJCQl7CgkJCQkJCQkJCW9mZnNldDogMSwKCQkJCQkJCQkJY29sb3I6ICIjZmZhNGYzIgoJCQkJCQkJCX0KCQkJCQkJCV0pCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWRhdGE6W10KCQkJCX0sCgkJCgkJCV0KCQl9OwoJCQoJCXZhciBjYXRlZ29yeT1bIumpu+mprOW6lyIsJ+WNl+mYsycsJ+mDkeW3nicsJ+a0m+mYsycsJ+aWsOS5oScsJ+WRqOWPoyddOwoJCXZhciBkYXRhPVsxMCwxMiwxOCwyMCwxNywxNl0KCQl0aGlzLmRyYXcoY2F0ZWdvcnksZGF0YSk7CgkJc2V0SW50ZXJ2YWwodGhpcy5jaGFuZ2VDb2xvciw1MDApOwoJfSwKCW1ldGhvZHM6IHsKCQlmZXRjaERhdGEoKSB7CgkJCWFwaS5zdW1tYXJ5Lm1lbW9yeVRvcDEwKCkgLy/mlrDmjqXlj6PvvIzmiYDmnInnm5Hmjqforr7lpIfnmoTlhoXlrZggVG9wMTAKCQkJCS50aGVuKHJlc3BvbnNlID0+IHsKCQkJCQlpZiAocmVzcG9uc2UpIHsKCQkJCQkJdGhpcy5pdGVtID0gcmVzcG9uc2UuaXRlbVNpbmdsZTsKCQkJCQkJbGV0IGtkYXRhID0gW10sCgkJCQkJCQl2ZGF0YSA9IFtdOwoJCQkJCQlrZGF0YSA9IE9iamVjdC5rZXlzKHRoaXMuaXRlbSk7CgkJCQkJCXZkYXRhID0gT2JqZWN0LnZhbHVlcyh0aGlzLml0ZW0pOwoJCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvdHRvbUxlZnRDaGFydCIpKSB7CgkJCQkJCQl0aGlzLmRyYXcoa2RhdGEsIHZkYXRhKTsKCQkJCQkJCXNldFRpbWVvdXQodGhpcy5mZXRjaERhdGEsIHRoaXMuaW50ZXJ2YWwpOwoJCQkJCQl9CgkJCQkJfQoJCQkJfSkuY2F0Y2goZXJyID0+IHsKCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvdHRvbUxlZnRDaGFydCIpKSB7CgkJCQkJCXNldFRpbWVvdXQodGhpcy5mZXRjaERhdGEsIHRoaXMuaW50ZXJ2YWwpOwoJCQkJCX0KCQkJCX0pCgkJfSwKCgkJZHJhdyhjYXRlZ29yeSwgZGF0YSkgewoJCQkvLyDln7rkuo7lh4blpIflpb3nmoRkb23vvIzliJ3lp4vljJZlY2hhcnRz5a6e5L6LCgkJCXRoaXMub3B0aW9uLnhBeGlzLmRhdGEgPSBjYXRlZ29yeTsKCQkJdGhpcy5vcHRpb24uc2VyaWVzWzBdLmRhdGEgPSBkYXRhOwoJCQl0aGlzLmNoYXJ0LnNldE9wdGlvbih0aGlzLm9wdGlvbik7IAoKCQl9LAoJCWNoYW5nZUNvbG9yKCl7CgkJCXN3aXRjaCh0aGlzLnR5cGUpewoJCQkJCWNhc2UgMDoKCQkJCQkJdGhpcy5vcHRpb24uc2VyaWVzWzBdLml0ZW1TdHlsZS5ub3JtYWwuY29sb3IgPSBuZXcgZWNoYXJ0cy5ncmFwaGljLkxpbmVhckdyYWRpZW50KDAsIDAsIDAsIDEsIFt7b2Zmc2V0OiAwLGNvbG9yOiAiIzVlNjlmZiJ9LHtvZmZzZXQ6IDEsY29sb3I6ICIjZmZhNGYzIn1dKQoJCQkJCQlicmVhazsKCQkJCQljYXNlIDE6CgkJCQkJCXRoaXMub3B0aW9uLnNlcmllc1swXS5pdGVtU3R5bGUubm9ybWFsLmNvbG9yID0gbmV3IGVjaGFydHMuZ3JhcGhpYy5MaW5lYXJHcmFkaWVudCgwLCAwLCAwLCAxLCBbe29mZnNldDogMCxjb2xvcjogIiMxOTExZmYifSx7b2Zmc2V0OiAxLGNvbG9yOiAiI2U2NTNmZiJ9XSkKCQkJCQkJYnJlYWsKCQkJCX0KCQkJCXRoaXMudHlwZSA9IDEgLSB0aGlzLnR5cGU7CgkJCQl0aGlzLmNoYXJ0LnNldE9wdGlvbih0aGlzLm9wdGlvbix0cnVlKTsKCQkJfQoJCX0sCgoJCglkZXN0cm95ZWQoKSB7CgkJd2luZG93Lm9ucmVzaXplID0gbnVsbDsKCX0KfTsK"},{"version":3,"sources":["storageTop.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA","file":"storageTop.vue","sourceRoot":"src/views/screen","sourcesContent":["<template>\n\t<div class=\"stratop\">\n\t\t<div class=\"topTitle\" >\n\t\t\t\n\t\t<svg-icon icon-class=\"alarun\" style=\"color:#5cd9e8; \"></svg-icon>\n\t\t\t<span class=\"fs-xl text mx-2\">城市利用率Top10</span> \n\t\t</div>\n\t\t<div id=\"bottomLeftChart\" style=\"height:100%  \"></div>\n\t</div>\n</template>\n\n<script>\n\tconst echarts = require(\"echarts\");\n\timport api from \"@/http/api\";\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tchart: null,\n\t\t\t\titem: \"\",\n\t\t\t\tinterval: \"6000\",\n\t\t\t\toption:\"\",\n\t\t\t\ttype:0,\n\t\t\t};\n\t\t},\n\t\tmounted() {\n\n\t\t\tthis.chart = echarts.init(document.getElementById(\"bottomLeftChart\"));\n\t\t\tthis.option = {\n\t\t\t\ttitle: {\n\t\t\t\t\ttext: \"\",\n\t\t\t\t\tx: \"center\",\n\t\t\t\t\ty: 0,\n\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\tcolor: \"#B4B4B4\",\n\t\t\t\t\t\tfontSize: 16,\n\t\t\t\t\t\tfontWeight: \"normal\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttooltip: {\n\t\t\t\t\ttrigger: \"axis\",\n\t\t\t\t\tbackgroundColor: \"rgba(255,255,255,0.1)\",\n\t\t\t\t\taxisPointer: {\n\t\t\t\t\t\ttype: \"shadow\",\n\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\t\tbackgroundColor: \"#7B7DDC\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlegend: {\n\t\t\t\n\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\tcolor: \"#B4B4B4\"\n\t\t\t\t\t},\n\t\t\t\n\t\t\t\t},\n\t\t\t\tgrid: {\n\t\t\t\t\tx: \"11%\",\n\t\t\t\t\twidth: \"80%\",\n\t\t\t\t\ty: \"4%\"\n\t\t\t\t},\n\t\t\t\txAxis: {\n\t\t\t\t\tdata: [],\n\t\t\t\t\taxisLine: {\n\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\tcolor: \"#B4B4B4\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\taxisTick: {\n\t\t\t\t\t\tshow: false\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tyAxis: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\tsplitLine: {\n\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\taxisLine: {\n\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\tcolor: \"#B4B4B4\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\tformatter: \"{value} \"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tseries: [{\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tbarWidth: 10,\n\t\t\t\t\t\titemStyle: {\n\t\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\tbarBorderRadius: 5,\n\t\t\t\t\t\t\t\tcolor: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n\t\t\t\t\t\t\t\t\t\toffset: 0,\n\t\t\t\t\t\t\t\t\t\tcolor: \"#5e69ff\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\toffset: 1,\n\t\t\t\t\t\t\t\t\t\tcolor: \"#ffa4f3\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdata:[]\n\t\t\t\t\t},\n\t\t\t\n\t\t\t\t]\n\t\t\t};\n\t\t\t\n\t\t\tvar category=[\"驻马店\",'南阳','郑州','洛阳','新乡','周口'];\n\t\t\tvar data=[10,12,18,20,17,16]\n\t\t\tthis.draw(category,data);\n\t\t\tsetInterval(this.changeColor,500);\n\t\t},\n\t\tmethods: {\n\t\t\tfetchData() {\n\t\t\t\tapi.summary.memoryTop10() //新接口，所有监控设备的内存 Top10\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tif (response) {\n\t\t\t\t\t\t\tthis.item = response.itemSingle;\n\t\t\t\t\t\t\tlet kdata = [],\n\t\t\t\t\t\t\t\tvdata = [];\n\t\t\t\t\t\t\tkdata = Object.keys(this.item);\n\t\t\t\t\t\t\tvdata = Object.values(this.item);\n\t\t\t\t\t\t\tif (document.getElementById(\"bottomLeftChart\")) {\n\t\t\t\t\t\t\t\tthis.draw(kdata, vdata);\n\t\t\t\t\t\t\t\tsetTimeout(this.fetchData, this.interval);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tif (document.getElementById(\"bottomLeftChart\")) {\n\t\t\t\t\t\t\tsetTimeout(this.fetchData, this.interval);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t},\n\n\t\t\tdraw(category, data) {\n\t\t\t\t// 基于准备好的dom，初始化echarts实例\n\t\t\t\tthis.option.xAxis.data = category;\n\t\t\t\tthis.option.series[0].data = data;\n\t\t\t\tthis.chart.setOption(this.option); \n\n\t\t\t},\n\t\t\tchangeColor(){\n\t\t\t\tswitch(this.type){\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\tthis.option.series[0].itemStyle.normal.color = new echarts.graphic.LinearGradient(0, 0, 0, 1, [{offset: 0,color: \"#5e69ff\"},{offset: 1,color: \"#ffa4f3\"}])\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tthis.option.series[0].itemStyle.normal.color = new echarts.graphic.LinearGradient(0, 0, 0, 1, [{offset: 0,color: \"#1911ff\"},{offset: 1,color: \"#e653ff\"}])\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tthis.type = 1 - this.type;\n\t\t\t\t\tthis.chart.setOption(this.option,true);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\n\t\tdestroyed() {\n\t\t\twindow.onresize = null;\n\t\t}\n\t};\n</script>\n\n<style lang=\"scss\" scoped>\n\t.stratop{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100%;\n\t\ttext-align: center;\n\t\t.topTitle{\n\t\t\theight: 10%;\n\t\t\tpadding: 10px;\n\t\t\t\n\t\t}\n\t\t#bottomLeftChart{\n\t\t\tflex: 2;\n\t\t}\n\t}\n</style>\n"]}]}