{"remainingRequest":"/Users/user/Desktop/vueDatav/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/user/Desktop/vueDatav/src/views/screen/storageTop.vue?vue&type=style&index=0&id=3d07ed9a&lang=scss&scoped=true&","dependencies":[{"path":"/Users/user/Desktop/vueDatav/src/views/screen/storageTop.vue","mtime":1637549300830},{"path":"/Users/user/Desktop/vueDatav/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/vueDatav/node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/user/Desktop/vueDatav/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/user/Desktop/vueDatav/node_modules/_sass-loader@9.0.3@sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/vueDatav/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/vueDatav/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnN0cmF0b3B7CglkaXNwbGF5OiBmbGV4OwoJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKCWhlaWdodDogMTAwJTsKCXRleHQtYWxpZ246IGNlbnRlcjsKCS50b3BUaXRsZXsKCQloZWlnaHQ6IDEwJTsKCQlwYWRkaW5nOiAxMHB4OwoJCQoJfQoJI2JvdHRvbUxlZnRDaGFydHsKCQlmbGV4OiAyOwoJfQp9Cg=="},{"version":3,"sources":["storageTop.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"storageTop.vue","sourceRoot":"src/views/screen","sourcesContent":["<template>\n\t<div class=\"stratop\">\n\t\t<div class=\"topTitle\" >\n\t\t\t\n\t\t<svg-icon icon-class=\"alarun\" style=\"color:#5cd9e8; \"></svg-icon>\n\t\t\t<span class=\"fs-xl text mx-2\">城市利用率Top10</span> \n\t\t</div>\n\t\t<div id=\"bottomLeftChart\" style=\"height:100%  \"></div>\n\t</div>\n</template>\n\n<script>\n\tconst echarts = require(\"echarts\");\n\timport api from \"@/http/api\";\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tchart: null,\n\t\t\t\titem: \"\",\n\t\t\t\tinterval: \"6000\",\n\t\t\t\toption:\"\",\n\t\t\t\ttype:0,\n\t\t\t};\n\t\t},\n\t\tmounted() {\n\n\t\t\tthis.chart = echarts.init(document.getElementById(\"bottomLeftChart\"));\n\t\t\tthis.option = {\n\t\t\t\ttitle: {\n\t\t\t\t\ttext: \"\",\n\t\t\t\t\tx: \"center\",\n\t\t\t\t\ty: 0,\n\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\tcolor: \"#B4B4B4\",\n\t\t\t\t\t\tfontSize: 16,\n\t\t\t\t\t\tfontWeight: \"normal\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttooltip: {\n\t\t\t\t\ttrigger: \"axis\",\n\t\t\t\t\tbackgroundColor: \"rgba(255,255,255,0.1)\",\n\t\t\t\t\taxisPointer: {\n\t\t\t\t\t\ttype: \"shadow\",\n\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\t\tbackgroundColor: \"#7B7DDC\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlegend: {\n\t\t\t\n\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\tcolor: \"#B4B4B4\"\n\t\t\t\t\t},\n\t\t\t\n\t\t\t\t},\n\t\t\t\tgrid: {\n\t\t\t\t\tx: \"11%\",\n\t\t\t\t\twidth: \"80%\",\n\t\t\t\t\ty: \"4%\"\n\t\t\t\t},\n\t\t\t\txAxis: {\n\t\t\t\t\tdata: [],\n\t\t\t\t\taxisLine: {\n\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\tcolor: \"#B4B4B4\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\taxisTick: {\n\t\t\t\t\t\tshow: false\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tyAxis: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\tsplitLine: {\n\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\taxisLine: {\n\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\tcolor: \"#B4B4B4\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\tformatter: \"{value} \"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tseries: [{\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tbarWidth: 10,\n\t\t\t\t\t\titemStyle: {\n\t\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\tbarBorderRadius: 5,\n\t\t\t\t\t\t\t\tcolor: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n\t\t\t\t\t\t\t\t\t\toffset: 0,\n\t\t\t\t\t\t\t\t\t\tcolor: \"#5e69ff\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\toffset: 1,\n\t\t\t\t\t\t\t\t\t\tcolor: \"#ffa4f3\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdata:[]\n\t\t\t\t\t},\n\t\t\t\n\t\t\t\t]\n\t\t\t};\n\t\t\t\n\t\t\tvar category=[\"驻马店\",'南阳','郑州','洛阳','新乡','周口'];\n\t\t\tvar data=[10,12,18,20,17,16]\n\t\t\tthis.draw(category,data);\n\t\t\tsetInterval(this.changeColor,500);\n\t\t},\n\t\tmethods: {\n\t\t\tfetchData() {\n\t\t\t\tapi.summary.memoryTop10() //新接口，所有监控设备的内存 Top10\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tif (response) {\n\t\t\t\t\t\t\tthis.item = response.itemSingle;\n\t\t\t\t\t\t\tlet kdata = [],\n\t\t\t\t\t\t\t\tvdata = [];\n\t\t\t\t\t\t\tkdata = Object.keys(this.item);\n\t\t\t\t\t\t\tvdata = Object.values(this.item);\n\t\t\t\t\t\t\tif (document.getElementById(\"bottomLeftChart\")) {\n\t\t\t\t\t\t\t\tthis.draw(kdata, vdata);\n\t\t\t\t\t\t\t\tsetTimeout(this.fetchData, this.interval);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tif (document.getElementById(\"bottomLeftChart\")) {\n\t\t\t\t\t\t\tsetTimeout(this.fetchData, this.interval);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t},\n\n\t\t\tdraw(category, data) {\n\t\t\t\t// 基于准备好的dom，初始化echarts实例\n\t\t\t\tthis.option.xAxis.data = category;\n\t\t\t\tthis.option.series[0].data = data;\n\t\t\t\tthis.chart.setOption(this.option); \n\n\t\t\t},\n\t\t\tchangeColor(){\n\t\t\t\tswitch(this.type){\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\tthis.option.series[0].itemStyle.normal.color = new echarts.graphic.LinearGradient(0, 0, 0, 1, [{offset: 0,color: \"#5e69ff\"},{offset: 1,color: \"#ffa4f3\"}])\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tthis.option.series[0].itemStyle.normal.color = new echarts.graphic.LinearGradient(0, 0, 0, 1, [{offset: 0,color: \"#1911ff\"},{offset: 1,color: \"#e653ff\"}])\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tthis.type = 1 - this.type;\n\t\t\t\t\tthis.chart.setOption(this.option,true);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\n\t\tdestroyed() {\n\t\t\twindow.onresize = null;\n\t\t}\n\t};\n</script>\n\n<style lang=\"scss\" scoped>\n\t.stratop{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100%;\n\t\ttext-align: center;\n\t\t.topTitle{\n\t\t\theight: 10%;\n\t\t\tpadding: 10px;\n\t\t\t\n\t\t}\n\t\t#bottomLeftChart{\n\t\t\tflex: 2;\n\t\t}\n\t}\n</style>\n"]}]}