{"remainingRequest":"/Users/user/Desktop/vueDatav/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/user/Desktop/vueDatav/src/views/screen/cpuTop.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/Desktop/vueDatav/src/views/screen/cpuTop.vue","mtime":1637549300830},{"path":"/Users/user/Desktop/vueDatav/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/vueDatav/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/user/Desktop/vueDatav/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/vueDatav/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGVjaGFydHMgPSByZXF1aXJlKCJlY2hhcnRzIik7CmltcG9ydCBhcGkgZnJvbSAiQC9odHRwL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hhcnQ6IG51bGwsCgkgIGl0ZW06IiIsCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKCS8qIHRoaXMuZmV0Y2hEYXRhKCk7ICovCgl2YXIgY2F0ZWdvcnk9WyLpqbvpqazlupciLCfljZfpmLMnLCfpg5Hlt54nLCfmtJvpmLMnLCfmlrDkuaEnLCflkajlj6MnXTsKCXZhciBkYXRhPVsxMCwxMiwxOCwyMCwxNywxNl0KCXRoaXMuZHJhdyhjYXRlZ29yeSxkYXRhKTsKICB9LAogIG1ldGhvZHM6IHsKCSAgZmV0Y2hEYXRhKCl7CgkJYXBpLnN1bW1hcnkuY3B1VG9wMTAoKSAvL+aWsOaOpeWPo++8jOaJgOacieebkeaOp+iuvuWkh+eahOWGheWtmCBUb3AxMAoJCQkudGhlbihyZXNwb25zZSA9PiB7CgkJCQlpZihyZXNwb25zZSl7CgkJCQkJdGhpcy5pdGVtPXJlc3BvbnNlLml0ZW1TaW5nbGU7CgkJCQkJbGV0IGtkYXRhPVtdLHZkYXRhPVtdOwoJCQkJCWtkYXRhPSBPYmplY3Qua2V5cyh0aGlzLml0ZW0pOwoJCQkJCXZkYXRhPU9iamVjdC52YWx1ZXModGhpcy5pdGVtKTsKCQkJCQkgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkxlZnRDaGFydCIpKXsKCQkJCQkJIHRoaXMuZHJhdyhrZGF0YSx2ZGF0YSk7CgkJCQkJCXNldFRpbWVvdXQodGhpcy5mZXRjaERhdGEsNjAwMDApOwoJCQkJCX0gCgkJCQl9CgkJCX0pLmNhdGNoKGVycj0+ewoJCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkxlZnRDaGFydCIpKXsKCQkJCQlzZXRUaW1lb3V0KHRoaXMuZmV0Y2hEYXRhLDYwMDAwKTsKCQkJCX0KCQkJfSkgIAoJICB9LAoJICAKICAgIGRyYXcoY2F0ZWdvcnksZGF0YSkgewogICAgICAvLyDln7rkuo7lh4blpIflpb3nmoRkb23vvIzliJ3lp4vljJZlY2hhcnRz5a6e5L6LCiAgICAgIHRoaXMuY2hhcnQgPSBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkxlZnRDaGFydCIpKTsKICAgICAgLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgbGV0IG9wdGlvbiA9IHsKICAgICAgICB0aXRsZTogewogICAgICAgICAgdGV4dDogIiIsCiAgICAgICAgICB4OiAiY2VudGVyIiwKICAgICAgICAgIHk6IDAsCiAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6ICIjQjRCNEI0IiwKICAgICAgICAgICAgZm9udFNpemU6IDE2LAogICAgICAgICAgICBmb250V2VpZ2h0OiAibm9ybWFsIgogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgdHJpZ2dlcjogImF4aXMiLAogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAicmdiYSgyNTUsMjU1LDI1NSwwLjEpIiwKICAgICAgICAgIGF4aXNQb2ludGVyOiB7CiAgICAgICAgICAgIHR5cGU6ICJzaGFkb3ciLAogICAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAiIzdCN0REQyIKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6ICIjQjRCNEI0IgogICAgICAgICAgfSwKICAgICAgICAgIHRvcDogIjAlIgogICAgICAgIH0sCiAgICAgICAgZ3JpZDogewogICAgICAgICAgeDogIjExJSIsCiAgICAgICAgICB3aWR0aDogIjgwJSIsCiAgICAgICAgICB5OiAiNCUiCiAgICAgICAgfSwKICAgICAgICB4QXhpczogewogICAgICAgICAgZGF0YTogY2F0ZWdvcnksCiAgICAgICAgICBheGlzTGluZTogewogICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogIiNCNEI0QjQiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBheGlzVGljazogewogICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgfSAKICAgICAgICB9LAogICAgICAgIHlBeGlzOiBbCiAgICAgICAKICAgICAgICAgIHsKCQkJIHR5cGU6ICd2YWx1ZScsCiAgICAgICAgICAgIHNwbGl0TGluZTogeyBzaG93OiBmYWxzZSB9LAogICAgICAgICAgICBheGlzTGluZTogewogICAgICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICAgICAgY29sb3I6ICIjQjRCNEI0IgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXhpc0xhYmVsOiB7CiAgICAgICAgICAgICAgZm9ybWF0dGVyOiAie3ZhbHVlfSAiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgIHNlcmllczogWwogICAgICAgICAgewogICAgICAgICAgICB0eXBlOiAibGluZSIsCgkJCWFyZWFTdHlsZToge30sIAoJCQkgc21vb3RoOiB0cnVlLAogICAgICAgICAgICBiYXJXaWR0aDogMTAsCiAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgIG5vcm1hbDogewogICAgICAgICAgICAgICAgYmFyQm9yZGVyUmFkaXVzOiA1LAogICAgICAgICAgICAgICAgY29sb3I6IG5ldyBlY2hhcnRzLmdyYXBoaWMuTGluZWFyR3JhZGllbnQoMCwgMCwgMCwgMSwgWwoJCQkJICB7IG9mZnNldDogMCwgY29sb3I6ICIjZjA2MzcxIiB9LAoJCQkJICB7IG9mZnNldDogMC4yLCBjb2xvcjogIiM3OTc5ZTUiIH0sCgkJCQkgIHsgb2Zmc2V0OiAxLCBjb2xvcjogInJnYmEoMTU2LDEwNywyMTEsMC4yKSIgfS8vcmdiYSgxNTYsMTA3LDIxMSwwLjIpCiAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgfSwKCiAgICAgICAgIAogICAgICAgIF0KICAgICAgfTsKCQoJICAgdGhpcy5jaGFydC5zZXRPcHRpb24ob3B0aW9uKTsgCgkgCiAgICB9CiAgfSwKICBkZXN0cm95ZWQoKSB7CiAgICB3aW5kb3cub25yZXNpemUgPSBudWxsOwogIH0KfTsK"},{"version":3,"sources":["cpuTop.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"cpuTop.vue","sourceRoot":"src/views/screen","sourcesContent":["<template>\n  <div class=\"cputop\">\n\t  <div class=\"topTitle\" >\n\t  \t<span style=\"color:#5cd9e8\">\n\t  \t\t<svg-icon icon-class=\"alarun\"></svg-icon>\n\t  \t</span>\n\t  \t<span class=\"fs-xl text mx-2\">城市使用率Top10</span>\n\n\t  </div>\n    <div id=\"LeftChart\" style=\"height:100%\"  ></div>\n  </div>\n</template>\n\n<script>\nconst echarts = require(\"echarts\");\nimport api from \"@/http/api\";\nexport default {\n  data() {\n    return {\n      chart: null,\n\t  item:\"\",\n    };\n  },\n  mounted() {\n\t/* this.fetchData(); */\n\tvar category=[\"驻马店\",'南阳','郑州','洛阳','新乡','周口'];\n\tvar data=[10,12,18,20,17,16]\n\tthis.draw(category,data);\n  },\n  methods: {\n\t  fetchData(){\n\t\tapi.summary.cpuTop10() //新接口，所有监控设备的内存 Top10\n\t\t\t.then(response => {\n\t\t\t\tif(response){\n\t\t\t\t\tthis.item=response.itemSingle;\n\t\t\t\t\tlet kdata=[],vdata=[];\n\t\t\t\t\tkdata= Object.keys(this.item);\n\t\t\t\t\tvdata=Object.values(this.item);\n\t\t\t\t\t if(document.getElementById(\"LeftChart\")){\n\t\t\t\t\t\t this.draw(kdata,vdata);\n\t\t\t\t\t\tsetTimeout(this.fetchData,60000);\n\t\t\t\t\t} \n\t\t\t\t}\n\t\t\t}).catch(err=>{\n\t\t\t\tif(document.getElementById(\"LeftChart\")){\n\t\t\t\t\tsetTimeout(this.fetchData,60000);\n\t\t\t\t}\n\t\t\t})  \n\t  },\n\t  \n    draw(category,data) {\n      // 基于准备好的dom，初始化echarts实例\n      this.chart = echarts.init(document.getElementById(\"LeftChart\"));\n      //  ----------------------------------------------------------------\n      let option = {\n        title: {\n          text: \"\",\n          x: \"center\",\n          y: 0,\n          textStyle: {\n            color: \"#B4B4B4\",\n            fontSize: 16,\n            fontWeight: \"normal\"\n          }\n        },\n        tooltip: {\n          trigger: \"axis\",\n          backgroundColor: \"rgba(255,255,255,0.1)\",\n          axisPointer: {\n            type: \"shadow\",\n            label: {\n              show: true,\n              backgroundColor: \"#7B7DDC\"\n            }\n          }\n        },\n        legend: {\n          textStyle: {\n            color: \"#B4B4B4\"\n          },\n          top: \"0%\"\n        },\n        grid: {\n          x: \"11%\",\n          width: \"80%\",\n          y: \"4%\"\n        },\n        xAxis: {\n          data: category,\n          axisLine: {\n            lineStyle: {\n              color: \"#B4B4B4\"\n            }\n          },\n          axisTick: {\n            show: false\n          } \n        },\n        yAxis: [\n       \n          {\n\t\t\t type: 'value',\n            splitLine: { show: false },\n            axisLine: {\n              lineStyle: {\n                color: \"#B4B4B4\"\n              }\n            },\n            axisLabel: {\n              formatter: \"{value} \"\n            }\n          }\n        ],\n        series: [\n          {\n            type: \"line\",\n\t\t\tareaStyle: {}, \n\t\t\t smooth: true,\n            barWidth: 10,\n            itemStyle: {\n              normal: {\n                barBorderRadius: 5,\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n\t\t\t\t  { offset: 0, color: \"#f06371\" },\n\t\t\t\t  { offset: 0.2, color: \"#7979e5\" },\n\t\t\t\t  { offset: 1, color: \"rgba(156,107,211,0.2)\" }//rgba(156,107,211,0.2)\n                ])\n              }\n            },\n            data: data\n          },\n\n         \n        ]\n      };\n\t\n\t   this.chart.setOption(option); \n\t \n    }\n  },\n  destroyed() {\n    window.onresize = null;\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\t.cputop{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100%;\n\t\ttext-align: center;\n\t\t.topTitle{\n\t\t\theight: 10%;\n\t\t\tpadding: 10px;\n\t\t}\n\t\t#LeftChart{\n\t\t\tflex: 2;\n\t\t}\n\t}\n</style>"]}]}